<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        
        
        
        <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
        <!--        INGRESOS Y RETENCION      -->
        <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->

        
        <record id="certidicado_report_ingresos_view_tree" model="ir.ui.view">
            <field name="name">certificado.report.ingresos.tree</field>
            <field name="model">certificado.report.ingresos</field>
            <field name="arch" type="xml">
                <tree string="Tipo de Certificado">
                    <field name="name"/>
                    <field name="num"/>
                    <field name="title"/>
                    <field name="description"/>
                </tree>
            </field>
         </record>
        
      
         <record id="certidicado_report_ingresos_view_form" model="ir.ui.view">
            <field name="name">certificado.report.ingresos.form</field>
            <field name="model">certificado.report.ingresos</field>
            <field name='type'>form</field>
            <field name="arch" type="xml">
                <form string="Tipo de Certificado" version="7.0">
                    <sheet string="Certificado de Ingresos y Retencion">
                        <group col="4" string="Informacion General">
                            <field name="name"/>
                            <field name="num" string="Numero Formulario [4]"/>
                        </group>
                        <group col="4">
                            <field name="company_id"/>
                            <field name="ref" string="Numero Identificacion Tributaria (NIT) [5]"/>
                            <field name="dev_ref" string="Digito Verificacion [6]"/>
                            <field name="partner_id" string="Razon Social [11]"/>
                        </group>
                        <notebook position="inside" colspan="4">
                            <page string="Conceptos">
                                <group>
                                    <field name="conceptos_ids" nolabel="1">
                                        <tree editable="button">
                                            <field name="sequence"/>
                                            <field name="name"/>
                                            <field name="concepts"/>
                                            <field name="description"/>                                           
                                        </tree>
                                    </field>
                                </group>  
                            </page>
                            <page string="Impresion">
                                <group col="4" colspan="4">
                                    <field name="title"/>
                                    
                                    <field name="city_id"/>
                                </group>
                                <group>
                                    <field name="description"/>
                                </group>  
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
         </record>
       
         <record id="open_certidicado_report_ingresos" model="ir.actions.act_window">
            <field name="name">Certificados de Ingresos y Retencion</field>
            <field name="res_model">certificado.report.ingresos</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
         </record>
         
                 
         <record id="certificado_ingreso_view_tree" model="ir.ui.view">
            <field name="name">certificado.ingresos.tree</field>
            <field name="model">certificado.ingresos</field>
            <field name="arch" type="xml">
                <tree string="Certificado de Ingresos">
                    <field name="name"/>
                    <field name="company_id"/>
                    <field name="cert_id"/>
                    <field name="account_year_id"/>
                    <field name="state"/>
                </tree>
            </field>
         </record>
        
      
         <record id="certificado_ingreso_view_form" model="ir.ui.view">
            <field name="name">certificado.ingresos.form</field>
            <field name="model">certificado.ingresos</field>
            <field name='type'>form</field>
            <field name="arch" type="xml">
                <form string="Certificado de Ingreso" version="7.0">
                    <header>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <sheet string="Certificado de Ingreso">
                        <group col="2" string="Informacion General">
                            <field name="name"/>   
                        </group>
                        <group col="4">
                            <field name="company_id"/>  
                            <field name="cert_id"/> 
                            <field name="account_year_id"/> 
                        </group>
                        <notebook position="inside" colspan="4">
                            <page string="Terceros">
                                <group>
                                    <field name="certificado_ids" nolabel="1">
                                        <tree>
                                            <field name="name"/>
                                            <field name="company_id"/>
                                            <field name="certificado_id"/>
                                            <!--<button class="oe_inline" name="view_item" type="object" 
                                                icon="gtk-redo" string="Analizar">
                                            </button>-->
                                        </tree>
                                    </field>
                                </group>  
                            </page>
                        </notebook>
                        <div class="oe_chatter">
                            <field name="message_follower_ids" widget="mail_followers"/>
                            <field name="message_ids" widget="mail_thread"/>
                        </div>
                    </sheet>
                </form>
            </field>
         </record>
         
         
         <record id="open_certidicado_certidicado_ingresos" model="ir.actions.act_window">
            <field name="name">Certificados de Ingresos y Retencion</field>
            <field name="res_model">certificado.ingresos</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
         </record>
         
         
         <record id="certificado_ingresos_line_view_tree" model="ir.ui.view">
            <field name="name">certificado.ingresos.line.tree</field>
            <field name="model">certificado.ingresos.line</field>
            <field name="arch" type="xml">
                <tree string="Certificado Tercero">
                    <field name="name"/>
                    <field name="certificado_id"/>
                </tree>
            </field>
         </record>
        
      
         <record id="certificado_ingresos_line_view_form" model="ir.ui.view">
            <field name="name">certificado.ingresos.line.form</field>
            <field name="model">certificado.ingresos.line</field>
            <field name='type'>form</field>
            <field name="arch" type="xml">
                <form string="Certificado Tercero" version="7.0">
                    <sheet string="Certificado de Ingreso">
                        <group>
                            <h2>
                                <field name="name"/>
                            </h2>
                        </group>
                        <group col="4">
                            <field name="company_id"/>  
                            <field name="certificado_id"/>
                            <field name="date_from"/>
                            <field name="date_to"/>
                        </group>
                        <notebook position="inside" colspan="4">
                            <page string="Conceptos">
                                <group>
                                    <field name="items_ids" nolabel="1">
                                        <tree>
                                            <field name="name"/>
                                            <field name="employee_id"/>
                                            <field name="concepto_id"/>
                                            <field name="amount"/>
                                            <button class="oe_inline" name="view_moves" type="object" 
                                                icon="gtk-redo" string="Ver">
                                            </button>
                                        </tree>
                                    </field>
                                </group>  
                            </page>
                        </notebook>
                        <div class="oe_chatter">
                            <field name="message_follower_ids" widget="mail_followers"/>
                            <field name="message_ids" widget="mail_thread"/>
                        </div>
                    </sheet>
                </form>
            </field>
         </record>
        
         
         <record id="open_certidicado_certidicado_ingresos_items" model="ir.actions.act_window">
            <field name="name">Certificados de Ingresos y Retencion</field>
            <field name="res_model">certificado.ingresos.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
         </record>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
        <!--         VISTA IMPUESTO           -->
        <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
                
        
        <record id="print_account_tax_view_tree" model="ir.ui.view">
            <field name="name">print.account.tax.form</field>
            <field name="model">account.tax</field>
            <field name="inherit_id" ref="account.view_tax_form"/>
            <field name="arch" type="xml">
                <field name="base_code_id" position="attributes">
                    <attribute name="required">True</attribute>
                </field>
                <field name="tax_code_id" position="attributes">
                    <attribute name="required">True</attribute>
                </field>
                <field name="ref_base_code_id" position="attributes">
                    <attribute name="required">True</attribute>
                </field>
                <field name="ref_tax_code_id" position="attributes">
                    <attribute name="required">True</attribute>
                </field>
            </field>
         </record>
         
         <record id="certificado_tax_view_tree" model="ir.ui.view">
            <field name="name">certificado.tax.tree</field>
            <field name="model">certificado.tax</field>
            <field name="arch" type="xml">
                <tree string="Declaracion de Impuestos">
                    <field name="name"/>
                    <field name="cert_id"/>
                    <field name="periodo_id"/>
                    <field name="company_id"/>
                    <field name="base_total"/>
                    <field name="amount_total"/>                    
                    <field name="state"/>
                </tree>
            </field>
         </record>
        
      
         <record id="certificado_tax_view_form" model="ir.ui.view">
            <field name="name">certificado.tax.form</field>
            <field name="model">certificado.tax</field>
            <field name='type'>form</field>
            <field name="arch" type="xml">
                <form string="Declaracion de Impuestos" version="7.0">
                    <header>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <sheet string="Declaracion de Impuestos">
                        <group>
                            <h1>
                                <field name="name"/>                        
                            </h1>
                            <div name='buttons' class="oe_right"> 
                                <button class="oe_inline oe_stat_button" name="view_detalle" type="object" icon="fa-bar-chart-o">
                                    <field string="Detalle" name="count_line" widget="statinfo"/>
                                </button>
                            </div>
                        </group>
                        <group col="4" string="Informacion General">
                            <field name="cert_id"/>
                            <field name="periodo_id"/>
                            <field name="company_id"/>
                        </group>
                        <group col="4" string="Saldos Totales">
                            <field name="base_total"/>
                            <field name="amount_total"/>
                        </group>
                        <notebook position="inside" colspan="4">
                            <page string="Terceros">
                                <group>
                                    <field name="certificado_ids" nolabel="1">
                                        <tree editable="top">
                                            <field name="partner_id"/>
                                            <field name="base_total" sum="Total"/>
                                            <field name="amount_total" sum="Total"/>
                                        </tree>
                                    </field>
                                </group>  
                            </page>
                        </notebook>
                        <div class="oe_chatter">
                            <field name="message_follower_ids" widget="mail_followers"/>
                            <field name="message_ids" widget="mail_thread"/>
                        </div>
                    </sheet>
                </form>
            </field>
         </record>
         
         <record id="view_certificado_tax_report_graph" model="ir.ui.view">
            <field name="name">certificado.tax.graph</field>
            <field name="model">certificado.tax</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph string="Analisis de Impuestos" type="pivot" stacked="True">
                    <field name="name"/>
                    <field name="base_total" type="measure"/>
                    <field name="amount_total" type="measure"/>
                </graph>
            </field>
        </record>
         
         
         <record id="print_certificado_tax_view_tree" model="ir.ui.view">
            <field name="name">print.certificado.tax.tree</field>
            <field name="model">print.certificado.tax</field>
            <field name="arch" type="xml">
                <tree string="Declaracion de Impuestos">
                    <field name="partner_id"/>
                    <field name="cert_id"/>
                    <field name="periodo_id"/>
                    <field name="company_id"/>
                    <field name="state"/>
                </tree>
            </field>
         </record>
         
        
      
         <record id="print_certificado_tax_view_form" model="ir.ui.view">
            <field name="name">print.certificado.tax.form</field>
            <field name="model">print.certificado.tax</field>
            <field name='type'>form</field>
            <field name="arch" type="xml">
                <form string="Declaracion de Impuestos" version="7.0">
                    <header>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <sheet string="Declaracion de Impuestos">
                        <group col="4" string="Informacion General">
                            <group>
                                <field name="partner_id"/>
                                <field name="cert_id"/>
                                <field name="periodo_id"/>
                                <field name="company_id"/>
                            </group>
                        </group>
                        <notebook position="inside" colspan="4">
                            <page string="Certificados">
                                <group>
                                    <field name="certificado_ids" nolabel="1">
                                        <tree editable="top">
                                            <field name="account_id"/>
                                            <field name="tax_amount_parent" attrs="{'invisible':[('tax_amount_parent','=',0.0)]}"/>
                                            <field name="base_amount"/>
                                            <field name="tax_amount"/>
                                            <field name="porcentaje"/>                                            
                                            <field name="count"/>                                            
                                            <field name="invoice_ids" invisible="1"/>
                                            <button class="oe_inline" name="view_invoice" type="object" 
                                                icon="gtk-redo">
                                            </button>
                                        </tree>
                                    </field>
                                </group>  
                            </page>
                        </notebook>
                        <div class="oe_chatter">
                            <field name="message_follower_ids" widget="mail_followers"/>
                            <field name="message_ids" widget="mail_thread"/>
                        </div>
                    </sheet>
                </form>
            </field>
         </record>
         
         
         <record id="print_certificado_tax_line_view_tree" model="ir.ui.view">
            <field name="name">print.certificado.tax.line.tree</field>
            <field name="model">print.certificado.tax.line</field>
            <field name="arch" type="xml">
                <tree string="Declaracion de Impuestos">                    
                    <field name="account_id"/>
                    <field name="tax_amount_parent"/>
                    <field name="base_amount"/>
                    <field name="tax_amount"/>
                    <field name="porcentaje"/>
                    <field name="count"/>
                </tree>
            </field>
         </record>
        
      
         <record id="print_certificado_tax_line_view_form" model="ir.ui.view">
            <field name="name">print.certificado.tax.line.form</field>
            <field name="model">print.certificado.tax.line</field>
            <field name='type'>form</field>
            <field name="arch" type="xml">
                <form string="Declaracion de Impuestos" version="7.0">
                    <sheet string="Declaracion de Impuestos">
                        <group col="4" string="Informacion General">
                            <field name="partner_id"/>
                            <field name="account_id"/>
                        </group>
                        <group col="4">
                            <field name="tax_amount_parent"/>
                            <field name="base_amount"/>
                            <field name="tax_amount"/>
                            <field name="count"/>
                            <field name="porcentaje"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        
        <record id="view_print_certificado_tax_line_report_graph" model="ir.ui.view">
            <field name="name">print.certificado.tax.line.graph</field>
            <field name="model">print.certificado.tax.line</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph string="Analisis de Impuestos" type="pivot" stacked="True">                    
                    <field name="partner_id"/>
                    <field name="account_id" type="col"/>
                    <field name="base_amount" type="measure"/>
                    <field name="tax_amount" type="measure"/>
                </graph>
            </field>
        </record>
        
        
        <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
        <!--              VISTAS CERTIFICADO RETENCION             -->
        <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
                
        
        <record id="print_certificado_retencion_view_tree" model="ir.ui.view">
            <field name="name">print.certificado.retencion.tree</field>
            <field name="model">print.certificado.retencion</field>
            <field name="arch" type="xml">
                <tree string="Certificado de Retencion">
                    <field name="partner_id"/>
                    <field name="cert_id"/>
                    <field name="periodo_id"/>
                    <field name="company_id"/>
                    <field name="city_id"/>
                    <field name="state"/>
                </tree>
            </field>
         </record>
        
      
         <record id="print_certificado_retencion_view_form" model="ir.ui.view">
            <field name="name">print.certificado.retencion.form</field>
            <field name="model">print.certificado.retencion</field>
            <field name='type'>form</field>
            <field name="arch" type="xml">
                <form string="Certificado de retencion" version="7.0">
                    <header>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <sheet string="Certificado de retencion">
                        <group col="4" string="Informacion General">
                            <group>
                                <field name="partner_id"/>
                                <field name="cert_id"/>
                                <field name="periodo_id"/>
                                <field name="company_id"/>
                                <field name="city_id"/>
                            </group>
                        </group>
                        <notebook position="inside" colspan="4">
                            <page string="Certificados">
                                <group>
                                    <field name="certificado_ids" nolabel="1">
                                        <tree editable="top">
                                            <field name="account_id"/>
                                            <field name="tax_amount_parent" attrs="{'invisible':[('tax_amount_parent','=',0.0)]}"/>
                                            <field name="base_amount"/>
                                            <field name="tax_amount"/>
                                            <field name="porcentaje"/>                                            
                                            <field name="count"/>                                            
                                            <field name="invoice_ids" invisible="1"/>
                                            <button class="oe_inline" name="view_invoice" type="object" 
                                                icon="gtk-redo">
                                            </button>
                                        </tree>
                                    </field>
                                </group>  
                            </page>
                        </notebook>
                        <div class="oe_chatter">
                            <field name="message_follower_ids" widget="mail_followers"/>
                            <field name="message_ids" widget="mail_thread"/>
                        </div>
                    </sheet>
                </form>
            </field>
         </record>
         
         
         <record id="print_certificado_retencion_line_view_tree" model="ir.ui.view">
            <field name="name">print.certificado.retencion.line.tree</field>
            <field name="model">print.certificado.retencion.line</field>
            <field name="arch" type="xml">
                <tree string="Certificado de Retencion">                    
                    <field name="account_id"/>
                    <field name="tax_amount_parent"/>
                    <field name="base_amount"/>
                    <field name="tax_amount"/>
                    <field name="porcentaje"/>
                    <field name="count"/>
                </tree>
            </field>
         </record>
        
      
         <record id="print_certificado_retencion_line_view_form" model="ir.ui.view">
            <field name="name">print.certificado.retencion.line.form</field>
            <field name="model">print.certificado.retencion.line</field>
            <field name='type'>form</field>
            <field name="arch" type="xml">
                <form string="Certificado de retencion" version="7.0">
                    <sheet string="Certificado de retencion">
                        <group col="4" string="Informacion General">
                            <field name="partner_id"/>
                            <field name="account_id"/>
                        </group>
                        <group col="4">
                            <field name="tax_amount_parent"/>
                            <field name="base_amount"/>
                            <field name="tax_amount"/>
                            <field name="count"/>
                            <field name="porcentaje"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
                
        
        
        <record id="certidicado_report_retencion_view_tree" model="ir.ui.view">
            <field name="name">certidicado.report.retencion.tree</field>
            <field name="model">certidicado.report.retencion</field>
            <field name="arch" type="xml">
                <tree string="Tipo de Certificado">
                    <field name="name"/>
                    <field name="title"/>
                    <field name="type_report"/>
                    <field name="description"/>
                </tree>
            </field>
         </record>
        
      
         <record id="certidicado_report_retencion_view_form" model="ir.ui.view">
            <field name="name">certidicado.report.retencion.form</field>
            <field name="model">certidicado.report.retencion</field>
            <field name='type'>form</field>
            <field name="arch" type="xml">
                <form string="Tipo de Certificado" version="7.0">
                    <sheet string="Tipo de Certificado">
                        <group col="4" string="Informacion General">
                            <field name="name"/>
                        </group>
                        <group col="4">
                            <field name="type" style="width: 50%%"/>
                            <field name="type_report" style="width: 50%%"/>
                        </group>
                        <group col="4" attrs="{'invisible':[('type','!=','Certificado')]}">
                            <field name="city_id_1" attrs="{'invisible':[('is_ica','=',True)]}"/>
                            <field name="city_id_2" attrs="{'invisible':[('is_ica','=',True)]}"/>
                            <field name="is_ica"/>
                        </group>
                        <notebook position="inside" colspan="4">
                            <page string="Lineas de Impuestos">
                                <group>
                                    <field name="line_ids" nolabel="1">
                                        <tree editable="top">
                                            <field name="name"/>
                                            <field name="account_id"/>
                                            <field name="tax_id"/>
                                            <field name="compuesto_id"/>                                            
                                            <field name="porcentaje"/>                                               
                                        </tree>
                                    </field>
                                </group>  
                            </page>
                            <page string="Impresion">
                                <group>
                                    <field name="title"/>
                                    <field name="description"/>
                                </group>
                                <group attrs="{'invisible':[('type','!=','Certificado')]}">
                                    <field name="impuesto_compuesto"/>
                                </group>  
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
         </record>
       
         <record id="open_certidicado_report_retencion" model="ir.actions.act_window">
            <field name="name">Tipo de Certificado</field>
            <field name="res_model">certidicado.report.retencion</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
         </record>
         
         
         <record id="certidicado_report_retencion_periodicidad_view_tree" model="ir.ui.view">
            <field name="name">certidicado.report.retencion.periodicidad.tree</field>
            <field name="model">certidicado.report.retencion.periodicidad</field>
            <field name="arch" type="xml">
                <tree string="Periodos de Certificado">
                    <field name="name"/>
                    <field name="type_report"/>
                    <field name="date_start"/>
                    <field name="date_end"/>
                </tree>
            </field>
         </record>
        
      
         <record id="certidicado_report_retencion_periodicidad_view_form" model="ir.ui.view">
            <field name="name">certidicado.report.retencion.periodicidad.form</field>
            <field name="model">certidicado.report.retencion.periodicidad</field>
            <field name='type'>form</field>
            <field name="arch" type="xml">
                <form string="Periodos de Certificado" version="7.0">
                    <sheet string="Periodos de Certificado">
                        <group col="4" string="Informacion General">                            
                            <field name="name"/>
                            <field name="type_report"/>
                        </group>
                        <group col="4">                            
                            <field name="date_start"/>
                            <field name="date_end"/>
                        </group>
                    </sheet>
                </form>
            </field>
         </record>
       
         <record id="open_certidicado_report_retencion_Periodos" model="ir.actions.act_window">
            <field name="name">Periodos de Certificado</field>
            <field name="res_model">certidicado.report.retencion.periodicidad</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
         </record>
         
         <record id="open_certidicado_certidicado_retencion" model="ir.actions.act_window">
            <field name="name">Certificados</field>
            <field name="res_model">print.certificado.retencion</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
         </record>
         
         <record id="open_certidicado_tax_retencion" model="ir.actions.act_window">
            <field name="name">Declaracion de Impuestos</field>
            <field name="res_model">print.certificado.tax</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
         </record>
         
        
         <menuitem id="menu_certificados" parent="account.menu_finance_configuration" name="Certificados" sequence="10"/>
         <menuitem id="menu_certificados_certificados" name="Retencion" parent="menu_certificados" sequence="0"/>
         <menuitem action="open_certidicado_certidicado_retencion" id="menu_open_certificados_certificados" name="Certificados Retencion" parent="menu_report_imp_ret_avancys" sequence="2"/>
         <menuitem action="open_certidicado_tax_retencion" id="menu_open_certificados_taxs" name="Declaracion" parent="menu_certificados_certificados" sequence="1"/>
         <menuitem action="open_certidicado_certidicado_ingresos" id="menu_open_certificados_ingresos" name="Ingresos" parent="menu_certificados_certificados" sequence="3"/>
         <menuitem action="open_certidicado_certidicado_ingresos_items" id="menu_certificados_certificados_items" name="Certificados 220" parent="menu_report_imp_ret_avancys" sequence="4"/>
         <menuitem id="menu_certificados_configuracion" name="Configuracion" parent="menu_certificados" sequence="1"/>
         <menuitem action="open_certidicado_report_retencion" id="menu_open_certificados" name="Formularios" parent="menu_certificados_configuracion" sequence="1"/>
         <menuitem action="open_certidicado_report_retencion_Periodos" id="menu_open_periodos" name="Periodos" parent="menu_certificados_configuracion" sequence="2"/>         
         <menuitem action="open_certidicado_report_ingresos" id="menu_open_conf_ingresos" name=" Ingresos y Retencion" parent="menu_certificados_configuracion" sequence="4"/>
         
        
        <!-- ********************************************** -->
        <!-- ****** WIZARD DECLARACION DE IMPUESTOS  ****** -->
        <!-- ********************************************** -->
         
        <record id="view_imprimir_certificado_tax_wizard" model="ir.ui.view">
            <field name="name">Declaracion de Impuestos</field>
            <field name="model">wizard.certificado.tax</field>
            <field name="arch" type="xml">
                <form string="Declaracion" version="7.0">
                    <sheet string="Declaracion">
                        <group>
                            <field name="company_id"/>
                            <field name="cert_id" domain="[('type','=','Declaracion')]"/>
                            <field name="type_report"/>
                            <field name="periodo_id" domain="[('type_report','=',type_report)]"/>
                        </group>
                        <notebook position="inside" colspan="4">
                            <page string="Terceros">
                                <group>
                                    <field name="partner_ids" nolabel="1">
                                        <tree editable="top">
                                            <field name="name"/>
                                            <field name="ref_type"/>
                                            <field name="ref"/>
                                            <field name="country_id"/>
                                            <field name="state_id"/>
                                            <field name="city_id"/>
                                        </tree>
                                    </field>
                                </group>  
                            </page>
                        </notebook>
                    </sheet>
                    <footer>
                        <button name="print_report" string="Generar" type="object" class="oe_highlight"  />                        
                        o
                        <button string="Cancelar" class="oe_link" special="cancel" />
                    </footer>
                </form>
            </field>
        </record>
        
        <record id="action_imprimir_certificados_tax" model="ir.actions.act_window">
            <field name="name">Declaracion de Impuestos</field>
            <field name="res_model">wizard.certificado.tax</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="context">{}</field>
        </record>

        <menuitem name="Declaracion de Impuestos" action="action_imprimir_certificados_tax" id="menu_action_imprimir_certificados_tax" parent="menu_report_imp_ret_avancys" sequence="9" groups="report_odoo_extended.group_auxiliar_report_avancys_contable"/>
        
        <report
        auto="False" 
        id="certificado_retencion_tax_report_id" 
        model="print.certificado.tax" 
        name="print.certificado.tax.report" 
        rml="report_odoo_extended/certificado.rml" 
        string="Declaracion de Impuestos"
        header="False"/>
        
         
         
         
        <!-- ********************************************** -->
        <!-- **********    WIZARD RETENCION    ************ -->
        <!-- ********************************************** -->
        
        <record id="view_imprimir_certificado_wizard" model="ir.ui.view">
            <field name="name">Certificados de Retenciones</field>
            <field name="model">wizard.certificado.retencion</field>
            <field name="arch" type="xml">
                <form string="Certificados" version="7.0">
                    <sheet string="Certificados">
                        <group>
                            <field name="company_id"/>
                            <field name="cert_id" domain="[('type','=','Certificado')]"/>
                            <field name="type_report"/>
                            <field name="periodo_id" domain="[('type_report','=',type_report)]"/>
                        </group>
                        <notebook position="inside" colspan="4">
                            <page string="Terceros">
                                <group>
                                    <field name="partner_ids" nolabel="1">
                                        <tree editable="top">
                                            <field name="name"/>
                                            <field name="ref_type"/>
                                            <field name="ref"/>
                                            <field name="country_id"/>
                                            <field name="state_id"/>
                                            <field name="city_id"/>
                                        </tree>
                                    </field>
                                </group>  
                            </page>
                        </notebook>
                    </sheet>
                    <footer>
                        <button name="print_report" string="Generar" type="object" class="oe_highlight"  />
                        <!-- <button name="send_report" string="Enviar" type="object" class="oe_highlight"  /> -->
                        o
                        <button string="Cancelar" class="oe_link" special="cancel" />
                    </footer>
                </form>
            </field>
        </record>
        
        <record id="action_imprimir_certificados" model="ir.actions.act_window">
            <field name="name">Certificados de Retencion</field>
            <field name="res_model">wizard.certificado.retencion</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="context">{}</field>
        </record>

        <menuitem name="Generar Certificado Ret" action="action_imprimir_certificados" id="menu_action_imprimir_certificados" parent="menu_report_imp_ret_avancys" sequence="1" groups="report_odoo_extended.group_auxiliar_report_avancys_contable"/>
        
        <report
        auto="False" 
        id="certificado_retencion_report_id" 
        model="print.certificado.retencion" 
        name="print.certificado.retencion.report" 
        rml="report_odoo_extended/certificado.rml" 
        string="Certificado Retencion"
        header="False"/>
        
        
        
        <record id="email_template_certificado_retencion" model="email.template">
            <field name="name">Certificado de Retencion</field>
            <field name="email_from">${object.company_id.email}</field>
            <field name="partner_to">${object.partner_id.id}</field>
            <field name="subject">Certificado de Retencion ${object.partner_id.name}</field>
            <field name="auto_delete" eval="False"/>
            <field name="lang">${object.partner_id.lang}</field>
            <field name="model_id" ref="report_odoo_extended.model_print_certificado_retencion"/>
            <field name="report_template" ref="certificado_retencion_report_id"/>
            <field name="report_name">${(object.cert_id.title or '').replace('/','_')}</field>
            <field name="body_html"><![CDATA[
                <div style="font-family: 'Lucica Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFF; ">
                    <p>Un saludo muy cordial</p>
                    <p>${object.partner_id.name}</p>
                    
                    <p>Por medio de la presente, me permito enviar el certificado ${object.cert_id.title} para el periodo ${object.periodo_id.name}. Esta informacion se en cuentra en el archivo adjunto.

                Sin m√°s por el momento, me despido, no sin asegurarles mi preferencia hacia su empresa. Me despido cordialmente.

                    <p>${object.company_id.name}</p>
                    
                    <br/>
                    <br/>
                    <div style="width: 375px; margin: 0px; padding: 0px; background-color: #8E0000; border-top-left-radius: 5px 5px; border-top-right-radius: 5px 5px; background-repeat: repeat no-repeat;">
                        <h3 style="margin: 0px; padding: 2px 14px; font-size: 12px; color: #DDD;">
                            <strong style="text-transform:uppercase;">${object.company_id.name}</strong>
                        </h3>
                    </div>
                    <div style="width: 347px; margin: 0px; padding: 5px 14px; line-height: 16px; background-color: #F2F2F2;">
                        <span style="color: #222; margin-bottom: 5px; display: block; ">
                        % if object.company_id.street:
                            ${object.company_id.street}<br/>
                        % endif
                        % if object.company_id.city or object.company_id.zip:
                            ${object.company_id.zip} ${object.company_id.city}<br/>
                        % endif
                        % if object.company_id.country_id:
                            ${object.company_id.state_id and ('%s, ' % object.company_id.state_id.name) or ''} ${object.company_id.country_id.name or ''}<br/>
                        % endif
                        </span>
                        % if object.company_id.phone:
                            <div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">
                                Phone:&nbsp; ${object.company_id.phone}
                            </div>
                        % endif
                        % if object.company_id.website:
                            <div>
                                Web :&nbsp;<a href="${object.company_id.website}">${object.company_id.website}</a>
                            </div>
                        %endif
                        <p></p>
                    </div>
                    
                </div>
            ]]></field>
        </record>
        
        
        
        
        
        
        <!-- ********************************************** -->
        <!-- **********    WIZARD INGRESOS     ************ -->
        <!-- ********************************************** -->
        
        <record id="view_imprimir_certificado_ingresos_wizard" model="ir.ui.view">
            <field name="name">Certificados de Ingresos</field>
            <field name="model">wizard.certificado.ingresos</field>
            <field name="arch" type="xml">
                <form string="Ingresos" version="7.0">
                    <sheet string="Certificado de Ingresos y Retencion">
                        <group>
                            <field name="cert_id"/>
                            <field name="account_year_id"/>
                        </group>
                        <notebook position="inside" colspan="4">
                            <page string="Terceros">
                                <group>
                                    <field name="employee_ids" nolabel="1">
                                        <tree>
                                            <field name="name"/>
                                            <field name="department_id"/>
                                            <field name="job_id"/>
                                            <field name="parent_id"/>
                                            <field name="work_email"/>
                                        </tree>
                                    </field>
                                </group>  
                            </page>
                        </notebook>
                    </sheet>
                    <footer>
                        <button name="print_report" string="Generar" type="object" class="oe_highlight"  />
                        <button name="send_report" string="Enviar" type="object" class="oe_highlight"  />
                        o
                        <button string="Cancelar" class="oe_link" special="cancel" />
                    </footer>
                </form>
            </field>
        </record>
        
        <record id="action_imprimir_certificados_ingresos" model="ir.actions.act_window">
            <field name="name">Certificados de Ingresos y Retencion</field>
            <field name="res_model">wizard.certificado.ingresos</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="context">{}</field>
        </record>

        <menuitem name="Generar Certificados 220" action="action_imprimir_certificados_ingresos" id="menu_action_imprimir_certificados_ingresos" parent="menu_report_imp_ret_avancys" sequence="3" groups="report_odoo_extended.group_auxiliar_report_avancys_contable"/>
        
        <report
        auto="False" 
        id="certificado_ingresos_report_id" 
        model="certificado.ingresos.line" 
        name="certificado.ingresos.line.report" 
        rml="report_odoo_extended/certificado_ingresos.rml" 
        string="Certificado Ingresos y Retencion"
        header="False"/>
        
        
        
        <record id="email_template_certificado_ingresos" model="email.template">
            <field name="name">Certificado de Ingresos Retencion</field>
            <field name="email_from">${object.company_id.email}</field>
            <field name="partner_to">${object.name.partner_id.id}</field>
            <field name="subject">Certificado de Retencion ${object.name.partner_id.name}</field>
            <field name="auto_delete" eval="False"/>
            <field name="lang">${object.name.partner_id.lang}</field>
            <field name="model_id" ref="report_odoo_extended.model_certificado_ingresos_line"/>
            <field name="report_template" ref="certificado_ingresos_report_id"/>
            <field name="report_name">${(object.cert_id.title or '').replace('/','_')}</field>
            <field name="body_html"><![CDATA[
                <div style="font-family: 'Lucica Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFF; ">
                    <p>Cordial saludo, </p>
                    <p>${object.name.partner_id.name}</p>
                    
                    <p>Por medio de la presente, me permito enviar el certificado ${object.cert_id.title} para el periodo ${object.account_year_id.name}. Esta informacion se en cuentra en el archivo adjunto.

                    <br/>
                    <br/>
                    <div style="width: 375px; margin: 0px; padding: 0px; background-color: #8E0000; border-top-left-radius: 5px 5px; border-top-right-radius: 5px 5px; background-repeat: repeat no-repeat;">
                        <h3 style="margin: 0px; padding: 2px 14px; font-size: 12px; color: #DDD;">
                            <strong style="text-transform:uppercase;">${object.company_id.name}</strong>
                        </h3>
                    </div>
                    <div style="width: 347px; margin: 0px; padding: 5px 14px; line-height: 16px; background-color: #F2F2F2;">
                        <span style="color: #222; margin-bottom: 5px; display: block; ">
                        % if object.company_id.street:
                            ${object.company_id.street}<br/>
                        % endif
                        % if object.company_id.city or object.company_id.zip:
                            ${object.company_id.zip} ${object.company_id.city}<br/>
                        % endif
                        % if object.company_id.country_id:
                            ${object.company_id.state_id and ('%s, ' % object.company_id.state_id.name) or ''} ${object.company_id.country_id.name or ''}<br/>
                        % endif
                        </span>
                        % if object.company_id.phone:
                            <div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">
                                Phone:&nbsp; ${object.company_id.phone}
                            </div>
                        % endif
                        % if object.company_id.website:
                            <div>
                                Web :&nbsp;<a href="${object.company_id.website}">${object.company_id.website}</a>
                            </div>
                        %endif
                        <p></p>
                    </div>
                    
                </div>
            ]]></field>
        </record>
        
        
    </data>
</openerp>
